<script>import { getFormField } from "../context.js";
import { getDataFsError, generateId } from "../internal/utils/index.js";
const { descriptionId, errors } = getFormField();
export let id = generateId();
export let asChild = false;
export let el = void 0;
$:
  descriptionId.set(id);
$:
  descriptionAttrs = {
    id: $descriptionId,
    "data-fs-error": getDataFsError($errors),
    "data-fs-description": "",
    ...$$restProps
  };
</script>

<!--
@component
## Description
A component that provides additional context for a field and is associated with the control using the `aria-describedby` attribute.

- [Description Documentation](https://formsnap.dev/docs/components/description)

### Slot Props
- `descriptionAttrs` - A spreadable object of attributes for the description element if `asChild` is `true`.

@param {string} [id] - The id of the description element.
@param {el} [HTMLElement] - Bind to the description element.
@param {boolean} [asChild=false] - Whether to opt out of rendering the description element. [[asChild Docs](https://formsnap.dev/docs/composition/aschild)]
-->

{#if asChild}
	<slot {descriptionAttrs} />
{:else}
	<div {...descriptionAttrs} bind:this={el}>
		<slot {descriptionAttrs} />
	</div>
{/if}
